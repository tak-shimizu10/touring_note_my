<%= render 'templates/form_header' %>

<div class="wrapper">
  <section class="contents_top">
    <div class="form_container">
      <div class="form_container__head">
        <h2>アカウント登録</h2>
      </div>
      <div class="form_container__form">
        <%= form_for(resource, as: resource_name, url: registration_path(resource_name)) do |f| %>
          <%= render "devise/shared/error_messages", resource: resource %>
          
          <div class="avatar_image_box">
            <div class="new_thumbnail">
              <img id="prevImage">
            </div>
            <%= f.file_field :avatar_image, id: "myImage", accept: "image/*" %>
          </div>

          <div class="field">
            <%= f.label :nickname, "ニックネーム" %><br />
            <%= f.text_field :nickname, autofocus: true, class: "input-default required", placeholder: '例)バイクマン', required: true %>
          </div>

          <div class="field">
            <%= f.label :email, "Eメール" %><br />
            <%= f.email_field :email, autofocus: true, autocomplete: "email", class: "input-default required", placeholder: 'PC・携帯どちらでも可', required: true %>
          </div>

          <div class="field">
            <%= f.label :password, "パスワード" %><br />
            <%= f.password_field :password, autocomplete: "new-password", class: "input-default required", placeholder: '7文字以上の半角英数字', required: true %>
          </div>

          <div class="field">
            <%= f.label :password_confirmation, "パスワード（確認用）" %><br />
            <%= f.password_field :password_confirmation, autocomplete: "new-password", class: "input-default required", placeholder: 'もう一度入力してください', required: true %>
          </div>

          <div class="field">
            <%= f.label :birthday, "生年月日" %><br />
            <div class="field-birthday_select">
              <%= raw sprintf(f.date_select(:birthday,{ start_year: Date.today.year, end_year: Date.today.year-120,prompt:"--", use_month_numbers: true, with_css_classes: true,discard_minute:true,date_separator: '%s', datetime_separator: '%s', id: "date" }, {required: true}), '<div class="input-field-multiple__separate-text">年</div>', '<div class="input-field-multiple__separate-text">月</div>') +'<div class="input-field-multiple__separate-text">日</div>' %>
            </div>
          </div>

          <div class="field">
            <%= f.label :prefecture, "都道府県" %><br />
            <%= f.collection_select :prefecture_id, Prefecture.all, :id, :name, {autofocus: true, include_blank: "選択してください"}, {class: 'select-default', id: 'address_prefecture_name', required: true} %>
          </div>

          <div class="actions">
            <%= f.submit "登録する" %>
          </div>
        <% end %>
      </div>
    </div>
  </section>
</div>

<%= render 'templates/footer' %>
